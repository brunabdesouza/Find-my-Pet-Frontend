(this["webpackJsonpfind-my-pet-frontend"]=this["webpackJsonpfind-my-pet-frontend"]||[]).push([[0],{25:function(e,t,c){},34:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(26),i=c.n(r),l=(c(34),c(28)),o=c(3),j=c(5),h=c.n(j),d=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){h.a.get("".concat("http://localhost:3000","/shelters")).then((function(e){r(e.data)})).catch(console.warn)}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"allSearchDisplay",children:s.map((function(e){return Object(n.jsxs)("li",{className:"searchDisplay",children:[Object(n.jsx)("strong",{children:e.name}),Object(n.jsx)("li",{children:e.address}),Object(n.jsx)("li",{className:"myFontSize",children:e.description})]},e.id)}))})})},u=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],r=c[1],i=e.match.params,l=i.location,j=i.animal_type,d=i.radius;return Object(a.useEffect)((function(){h.a.get("".concat("http://localhost:3000","/shelters/search"),{params:{location:l,animal_type:j,radius:d}}).then((function(e){r(e.data)})).catch(console.warn)}),[l,j,d]),Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"allSearchDisplay",children:s.map((function(e){return Object(n.jsxs)("li",{className:"searchDisplay",children:[Object(n.jsx)("strong",{children:e.name}),Object(n.jsx)("img",{src:e.pet_image,alt:"pet"}),Object(n.jsx)("li",{children:Object(n.jsx)("strong",{children:e.pet_name})}),Object(n.jsx)("li",{className:"myFontSize",children:e.pet_description})]},e.id)}))})})},b=c(9),O=(c(25),function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=function(){return r(!1)};return Object(n.jsx)("div",{children:Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(b.b,{to:"/",className:"navbar-logo",children:"Find my Pet"}),Object(n.jsx)("div",{className:"menu-icon",onClick:function(){return r(!s)},children:Object(n.jsx)("i",{className:s?"fas fa-times":"fas fa-bars"})}),Object(n.jsxs)("ul",{className:s?"nav-menu active":"nav-menu",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{to:"/",className:"nav-links",onClick:i,children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{to:"/shelters",className:"nav-links",onClick:i,children:"Shelters"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(b.b,{to:"/pets",className:"nav-links",onClick:i,children:["Pets ",Object(n.jsx)("i",{className:"fas fa-caret-down"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{to:"/signup",className:"nav-links",onClick:i,children:"Sign Up"})}),void 0!==e.user?Object(n.jsxs)(n.Fragment,{children:["(",Object(n.jsxs)("li",{children:["Welcome, ",e.user.name]}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(b.b,{to:"/userProfile"})}),Object(n.jsx)("li",{children:Object(n.jsx)("span",{onClick:e.handleLogout})}),")"]}):Object(n.jsx)("li",{children:Object(n.jsx)(b.b,{to:"/login"})})]})]})})})}),m=function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),j=l[0],h=l[1],d=Object(a.useState)("5"),u=Object(o.a)(d,2),b=u[0],O=u[1];return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"main-form",children:[Object(n.jsx)("label",{children:"Animal: "}),Object(n.jsx)("input",{type:"text",placeholder:"cat or dog",onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("label",{children:"My Location: "}),Object(n.jsx)("input",{type:"text",placeholder:"Ryde",onChange:function(e){return h(e.target.value)}}),Object(n.jsxs)("select",{className:"select-option",onChange:function(e){return O(e.target.value)},children:[Object(n.jsx)("option",{value:"5",children:"5km"}),Object(n.jsx)("option",{value:"10",children:"10km"}),Object(n.jsx)("option",{value:"15",children:"15km"}),Object(n.jsx)("option",{value:"20",children:"20km"})]}),Object(n.jsx)("button",{onClick:function(){return e.history.push("/shelters/search/".concat(j,"/").concat(s,"/").concat(b))},children:"Search"})]})})},x=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){h.a.get("".concat("http://localhost:3000","/pets")).then((function(e){r(e.data)})).catch(console.warn)}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"allSearchDisplay",children:s.map((function(e){return Object(n.jsxs)("li",{className:"searchDisplay",children:[Object(n.jsx)("strong",{children:e.name}),Object(n.jsx)("img",{src:e.image,alt:"pet"}),Object(n.jsx)("li",{children:e.age}),Object(n.jsx)("li",{children:e.sex}),Object(n.jsx)("li",{className:"myFontSize",children:e.description}),Object(n.jsx)("li",{children:e.adoption_fee}),Object(n.jsx)("li",{children:e.desexed}),Object(n.jsx)("li",{children:e.vaccinated}),Object(n.jsx)("li",{children:e.wormed})]},e.id)}))})})},p=function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),j=l[0],d=l[1];return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"userForm",children:[Object(n.jsx)("label",{children:"Email: "}),Object(n.jsx)("input",{type:"text",placeholder:"Enter your email",onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("label",{children:"Password: "}),Object(n.jsx)("input",{type:"password",placeholder:"Enter password",onChange:function(e){return d(e.target.value)}}),Object(n.jsx)("button",{onClick:function(t){var c={email:s,password:j};h.a.post("".concat("http://localhost:3000","/user_token"),{auth:c}).then((function(t){localStorage.setItem("jwt",t.data.jwt),h.a.defaults.headers.common.Authorization="Bearer"+t.data.jwt,console.log("user",t.data),e.history.push("/pets")})).catch(console.warn)},children:"Login"})]})})},f=function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");if(e){var t="Bearer "+e;h.a.defaults.headers.common.Authorization=t,h.a.get("".concat("http://localhost:3000","/users/current")).then((function(e){console.log("User",e.data),r(e.data)})).catch(console.warn)}}),[]),Object(n.jsx)("div",{children:Object(n.jsxs)("h2",{children:["Hello ",s.name]})})},v=c(2),g=function(){var e=Object(a.useState)(void 0),t=Object(o.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");if(e){var t="Bearer "+e;h.a.defaults.headers.common.Authorization=t,h.a.get("".concat("http://localhost:3000","/users/current")).then((function(e){console.log("User",e.data),s(e.data)})).catch(console.warn)}}),[]);var r=function(){s({currentUser:void 0}),localStorage.removeItem("jwt"),h.a.defaults.headers.common.Authorization=void 0};return Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(v.a,{render:function(e){return Object(n.jsx)(O,Object(l.a)({user:c,handleLogout:r},e))}}),Object(n.jsx)(v.a,{component:m}),Object(n.jsx)(v.a,{exact:!0,path:"/login",component:p}),Object(n.jsx)(v.a,{exact:!0,path:"/userProfile",component:f}),Object(n.jsx)(v.a,{exact:!0,path:"/shelters/search/:location/:animal_type/:radius",component:u}),Object(n.jsx)(v.a,{exact:!0,path:"/shelters",component:d}),Object(n.jsx)(v.a,{exact:!0,path:"/pets",component:x})]})})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),N()}},[[61,1,2]]]);
//# sourceMappingURL=main.ea373063.chunk.js.map